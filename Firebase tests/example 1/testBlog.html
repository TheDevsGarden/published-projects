<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <!--  Font Logo  -->
    <!-- CSS here -->
    <!--<link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/custom.css">-->
</head>

<body>
<!-- FACEBOOK -->
<!-- Preloader Start -->
<div id="preloader-active">
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
            <div class="preloader-circle"></div>
            <div class="preloader-img pere-text">
                <!--<img src="assets/img/logos/pink-blue.png" alt="KLTR Logo">-->
            </div>
        </div>
    </div>
</div>
<!-- Preloader Start-->

<header>
    <!-- Header Start -->
    <!-- Header code .... -->
    <!-- Header End -->
</header>

<!-- Slider Area Start-->
<div class="services-area">
    <div class="container">
        <!-- Section-tittle -->
        <div class="row d-flex justify-content-center">
            <div class="col-lg-8">
                <div class="section-tittle text-center mb-80">
                    <span>Blog</span>
                    <h2>Our Blog Area</h2>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Slider Area End-->

<!--================Blog Area =================-->
<section id="blog-section" class="blog_area section-paddingr">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mb-5 mb-lg-0">
                <div id="blogs-list" class="blog_left_sidebar">

                    <!-- Articles goes here from Firebase DB-->

                </div>
            </div>
        </div>
    </div>
 </section>
 </body>
<!-- JS here -->

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-firestore.js"></script>


<script>
    // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyCG-VtT7koxC7jed9WQvXJ_AiCz6seDS3s",
        authDomain: "my-blog-ilya.firebaseapp.com",
        projectId: "my-blog-ilya",
        storageBucket: "my-blog-ilya.appspot.com",
        messagingSenderId: "663032783699",
        appId: "1:663032783699:web:2aaaf5e733081dcb43f7a6",
        measurementId: "G-JRMLQK56N1"

    };
    // Initialize Firebase

    firebase.initializeApp(firebaseConfig);
    //firebase.analytics();



    var db = firebase.firestore();
    var ref = db.collection('blogs');

    var field = "timestamp";

    var list = document.getElementById('blogs-list');

    var query = ref.orderBy(field);
    query.get().then(docsSnap => {
        getData(docsSnap.docs);
    })
  ;
    function getData(docs) {
        list.innerHTML = '';
        docs.forEach((doc) => {
            const data = doc.data();
            list.innerHTML += `
                <article class="blog_item">
                    <div class="blog_details">
                        <a class="d-inline-block" href="#">
                            <h2>${data.title}</h2>
                        </a>
                        <p>${data.sub_title}</p>
                        <ul class="blog-info-link">
                            <li><a href="#"><i class="fa fa-user"></i>${data.author}</a></li>
                            <li><a href="#"><i class="fas fa-hashtag"></i>${data.tags}</a></li>
                        </ul>
                    </div>
                </article>
            `

        });
    }

</script>

</body>
</html>


<!-- https://medium.com/@roylevy_28840/add-a-blog-to-your-website-using-firebase-firestore-part-1-2-af7dbfbff826 -->